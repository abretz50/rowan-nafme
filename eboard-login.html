<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Login | </title>
  <script src="https://cdn.auth0.com/js/auth0-spa-js/1.13/auth0-spa-js.production.js"></script>
</head>
<body style="font-family: sans-serif; text-align: center; padding-top: 10vh;">
  <h2>Login to </h2>
  <button id="login">Login with Auth0</button>

  <script>
    let auth0 = null;

    async function configureClient() {
      auth0 = await createAuth0Client({
        domain: "{{AUTH0_DOMAIN}}",
        client_id: "{{AUTH0_CLIENT_ID}}",
        authorizationParams: {
          redirect_uri: window.location.origin + "/dashboard.html",
          audience: "{{AUTH0_AUDIENCE}}"
        }
      });
    }

    async function login() {
      await auth0.loginWithRedirect();
    }

    window.onload = async () => {
      await configureClient();
      document.getElementById("login").addEventListener("click", login);
    };
  </script>
</div>
</div>
</div>

<button id="login-btn" class="floating-login" onclick="login()">Login / Register</button>
<button id="logout-btn" class="floating-login" style="display:none;" onclick="logout()">Logout</button>

</body>
</html>
