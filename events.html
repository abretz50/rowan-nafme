<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Rowan NAfME â€” Events</title>
  <meta name="color-scheme" content="light">
  <link rel="preload" as="image" href="/images/background.png">
  <link rel="icon" href="/images/logo.png">
  <link rel="stylesheet" href="/assets/css/style.css">

  <style>
    /* Events page ONLY: use convention .btn styling for filter chips */
    .filters .chips{ display:flex; flex-wrap:wrap; gap:.5rem; }
    .filters .chips .btn{
      display:inline-flex; align-items:center; justify-content:center;
      height: var(--tap);
      padding: 0 18px;
      border:1.6px solid var(--border);
      border-radius:999px;
      background: rgba(255,255,255,.06);
      color: var(--text);
      font-weight:700;
      box-shadow: var(--shadow);
      cursor:pointer;
      transition: transform .06s ease, background .2s ease, border-color .2s ease, filter .2s ease;
    }
    .filters .chips .btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.10); }
    .filters .chips .btn:focus-visible{ outline: 2px solid var(--brand-cyan); outline-offset: 2px; }

    /* Toggle state driven by aria-pressed */
    .filters .chips .btn[aria-pressed="true"]{
      background: var(--brand-gold, #f5c518);
      color: #111;
      border-color: transparent;
      filter: brightness(0.98);
    }
  
    /* Make in-page buttons gold (exclude nav) */
    #eventsList .button,
    #eventsList .btn{
      background: var(--brand-gold, #f5c518);
      color: #111;
      border-color: transparent;
      box-shadow: var(--shadow);
    }
    #eventsList .button:hover,
    #eventsList .btn:hover{ transform: translateY(-1px); filter: brightness(.95); }

    .filters .chips .btn[aria-pressed="true"]{ filter: brightness(.92); }

    /* Neutral filter chips (not gold) */
    .filters .chips .button,
    .filters .chips .btn{
      background: rgba(255,255,255,.06);
      color: var(--text);
      border:1.6px solid var(--border);
      box-shadow: var(--shadow);
    }
    .filters .chips .button:hover,
    .filters .chips .btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.10); }
    .filters .chips .button[aria-pressed="true"],
    .filters .chips .btn[aria-pressed="true"]{
      background: rgba(255,255,255,.14);
      color: var(--text);
      border-color: var(--border);
      filter: none;
    }

    /* Filters layout: chips left, toggle right */
    .filters .filters-bar{ display:flex; justify-content:space-between; align-items:center; gap:12px; }
    .filters .filters-right{ display:flex; align-items:center; }

    /* Neutral filter chips (ensure not gold) */
    .filters .chip{
      background: rgba(255,255,255,.06);
      color: var(--text);
      border:1.6px solid var(--border);
      box-shadow: var(--shadow);
      border-radius: 999px;
      padding: 0 18px;
      height: var(--tap);
      font-weight: 700;
      cursor: pointer;
      transition: transform .06s ease, background .2s ease;
    }
    .filters .chip:hover{ transform: translateY(-1px); background: rgba(255,255,255,.10); }
    .filters .chip[aria-pressed="true"]{ background: rgba(255,255,255,.14); }

    /* Keep card buttons gold (scope to events list only) */
    #eventsList .button, #eventsList .btn{
      background: var(--brand-gold, #f5c518); color:#111; border-color:transparent; box-shadow: var(--shadow);
    }
    #eventsList .button:hover, #eventsList .btn:hover{ transform: translateY(-1px); filter: brightness(.95); }
</style>
</head>
<body>
  <nav class="site-nav"></nav>

  
<header class="hero">
  <div class="hero-inner container">
    <div>
      <h1>Events</h1>
      <p>Workshops, meetings, volunteering, and convention prep. Filters below help you explore.</p>
    </div>
  </div>
</header>
<main>
  <section class="section">
    <div class="container">
      <div class="filters">
        <div class="filters-bar">
        <div class="chips" role="toolbar" aria-label="Filter events by category">
          <button class="button chip" data-filter="all" aria-pressed="true">All</button>
          <button class="button chip" data-filter="meeting" aria-pressed="false">Meetings</button>
          <button class="button chip" data-filter="professional-development" aria-pressed="false">Professional Developments</button>
          <button class="button chip" data-filter="volunteer" aria-pressed="false">Volunteer</button>
        </div>
        <div class="filters-right">
          <button id="togglePast" class="button chip" aria-pressed="false" title="Show past events">Include past events</button>
        </div>
      </div>
      </div>
      <div class="grid" id="eventsList" aria-live="polite"></div>
    </div>
  </section>
</main>
<script src="/assets/js/events.js"></script>


  <footer class="site-footer"></footer>
  <script src="/assets/js/nav.js" defer></script>

<script>
  (function(){
    const list = document.getElementById('eventsList');
    const pastBtn = document.getElementById('togglePast');
    if(!list || !pastBtn) return;

    function updatePastVisibility(){
      const showPast = pastBtn.getAttribute('aria-pressed') === 'true';
      const cards = list.querySelectorAll('[data-when="past"], .is-past');
      cards.forEach(card => {
        card.style.display = showPast ? '' : 'none';
      });
    }

    // If events.js marks past items, great; if not, attempt a lightweight detection from <time datetime>
    function markPastFromTime(){
      const now = new Date();
      list.querySelectorAll('time[datetime]').forEach(t => {
        const d = new Date(t.getAttribute('datetime'));
        const card = t.closest('.card') || t.closest('article');
        if(card && !card.hasAttribute('data-when')){
          if(!isNaN(d) && d < now){ card.setAttribute('data-when','past'); }
          else if(!isNaN(d)){ card.setAttribute('data-when','upcoming'); }
        }
      });
    }

    // Toggle button
    pastBtn.addEventListener('click', () => {
      const pressed = pastBtn.getAttribute('aria-pressed') === 'true';
      pastBtn.setAttribute('aria-pressed', String(!pressed));
      updatePastVisibility();
    });

    // Observe when events are populated (in case events.js renders asynchronously)
    const obs = new MutationObserver(() => { markPastFromTime(); updatePastVisibility(); });
    obs.observe(list, { childList:true, subtree:true });

    // Initial pass
    markPastFromTime();
    updatePastVisibility();
  })();
</script>

</body>
</html>